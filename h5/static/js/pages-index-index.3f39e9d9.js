(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"0d9b":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a481");i("325c").dateUtils;var o={data:function(){return{banner:{},listData:[],last_id:"",reload:!1,defaultKeyword:"",keyword:"",oldKeywordList:[],hotKeywordList:[],keywordList:[],forbid:"",isShowKeywordList:!1}},onLoad:function(){this.getBanner(),this.getList(),this.init()},onPullDownRefresh:function(){this.reload=!0,this.last_id="",this.getBanner(),this.getList()},onReachBottom:function(){this.getList()},methods:{getBanner:function(){var t=this,e={column:"id,post_id,title,author_name,cover,published_at"};uni.request({url:"https://unidemo.dcloud.net.cn/api/banner/36kr",data:e,success:function(e){uni.stopPullDownRefresh(),200==e.statusCode&&(t.banner=e.data)},fail:function(t,e){console.log("fail"+JSON.stringify(t))}})},getList:function(){var t=this,e={_sort:"date:DESC",_limit:10,title_contains:this.keyword};this.last_id&&(e._start=this.last_id),uni.request({url:"http://120.79.197.140:1337/rumors",method:"GET",data:e,success:function(e){if(200==e.statusCode){var i=e.data;i.length>0?(t.listData=t.reload?i:t.listData.concat(i),t.last_id=i[i.length-1].id,t.reload=!1):(t.listData=i,t.$refs.popup.open())}},fail:function(t,e){console.log("fail"+JSON.stringify(t))}})},goDetail:function(t){uni.navigateTo({url:"../detail/detail?id="+t.id})},showHistory:function(t){this.isShowKeywordList=t,console.log(this.isShowKeywordList)},init:function(){this.loadDefaultKeyword(),this.loadOldKeyword(),this.loadHotKeyword()},blur:function(){uni.hideKeyboard()},loadDefaultKeyword:function(){this.defaultKeyword="请输入搜索信息"},loadOldKeyword:function(){var t=this;uni.getStorage({key:"OldKeys",success:function(e){var i=JSON.parse(e.data);t.oldKeywordList=i}})},loadHotKeyword:function(){this.hotKeywordList=["键盘","鼠标","显示器","电脑主机","蓝牙音箱","笔记本电脑","鼠标垫","USB","USB3.0"]},inputChange:function(t){var e=t.detail?t.detail.value:t;if(!e)return this.keywordList=[],void(this.isShowKeywordList=!1)},drawCorrelativeKeyword:function(t,e){for(var i=t.length,o=[],n=0;n<i;n++){var a=t[n],r=a[0].replace(e,"<span style='color: #9f9f9f;'>"+e+"</span>");r="<div>"+r+"</div>";var d={keyword:a[0],htmlStr:r};o.push(d)}return o},setkeyword:function(t){this.keyword=t.keyword},oldDelete:function(){var t=this;uni.showModal({content:"确定清除历史搜索记录？",success:function(e){e.confirm?(console.log("用户点击确定"),t.oldKeywordList=[],uni.removeStorage({key:"OldKeys"})):e.cancel&&console.log("用户点击取消")}})},hotToggle:function(){this.forbid=this.forbid?"":"_forbid"},doSearch:function(t){t=t||(this.keyword?this.keyword:this.defaultKeyword),this.saveKeyword(t),this.reload=!0,this.last_id="",console.log(this.keyword),this.getList(),this.isShowKeywordList=!1},saveKeyword:function(t){var e=this;uni.getStorage({key:"OldKeys",success:function(i){console.log(i.data);var o=JSON.parse(i.data),n=o.indexOf(t);-1==n?o.unshift(t):(o.splice(n,1),o.unshift(t)),o.length>10&&o.pop(),uni.setStorage({key:"OldKeys",data:JSON.stringify(o)}),e.oldKeywordList=o},fail:function(i){var o=[t];uni.setStorage({key:"OldKeys",data:JSON.stringify(o)}),e.oldKeywordList=o}})},clearInput:function(t){this.keyword="",this.getList(),this.$refs.popup.close()}}};e.default=o},"325c":function(t,e,i){"use strict";function o(t){if("number"!==typeof t||t<0)return t;var e=parseInt(t/3600);t%=3600;var i=parseInt(t/60);t%=60;var o=t;return[e,i,o].map((function(t){return t=t.toString(),t[1]?t:"0"+t})).join(":")}function n(t,e){return"string"===typeof t&&"string"===typeof e&&(t=parseFloat(t),e=parseFloat(e)),t=t.toFixed(2),e=e.toFixed(2),{longitude:t.toString().split("."),latitude:e.toString().split(".")}}i("28a5"),i("6b54");var a={UNITS:{"年":315576e5,"月":26298e5,"天":864e5,"小时":36e5,"分钟":6e4,"秒":1e3},humanize:function(t){var e="";for(var i in this.UNITS)if(t>=this.UNITS[i]){e=Math.floor(t/this.UNITS[i])+i+"前";break}return e||"刚刚"},format:function(t){var e=this.parse(t),i=Date.now()-e.getTime();if(i<this.UNITS["天"])return this.humanize(i);var o=function(t){return t<10?"0"+t:t};return e.getFullYear()+"/"+o(e.getMonth()+1)+"/"+o(e.getDay())+"-"+o(e.getHours())+":"+o(e.getMinutes())},parse:function(t){var e=t.split(/[^0-9]/);return new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5])}};t.exports={formatTime:o,formatLocation:n,dateUtils:a}},"786d":function(t,e,i){var o=i("fd9c");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("0286ce96",o,!0,{sourceMap:!1,shadowMode:!1})},8069:function(t,e,i){"use strict";i.r(e);var o=i("0d9b"),n=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);e["default"]=n.a},d1fc:function(t,e,i){"use strict";var o=i("786d"),n=i.n(o);n.a},d259:function(t,e,i){"use strict";var o,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("hxNavbar",{attrs:{statusBar:!1,leftSlot:!1,transparent:t.auto,fixed:!0,backgroundImg:"../../static/bg.jpeg",height:"180px",color:"#ffffff"}}),i("v-uni-view",{staticClass:"search-box"},[i("mSearch",{staticClass:"mSearch-input-box",attrs:{mode:2,button:"inside",placeholder:t.defaultKeyword},on:{search:function(e){arguments[0]=e=t.$handleEvent(e),t.doSearch(!1)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputChange.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.doSearch(!1)},getFocus:function(e){arguments[0]=e=t.$handleEvent(e),t.showHistory.apply(void 0,arguments)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),i("v-uni-view",{staticClass:"search-keyword",on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.blur.apply(void 0,arguments)}}},[i("v-uni-scroll-view",{directives:[{name:"show",rawName:"v-show",value:t.isShowKeywordList,expression:"isShowKeywordList"}],staticClass:"keyword-box",attrs:{"scroll-y":!0}},[t.oldKeywordList.length>0?i("v-uni-view",{staticClass:"keyword-block"},[i("v-uni-view",{staticClass:"keyword-list-header"},[i("v-uni-view",[t._v("历史搜索")]),i("v-uni-view",[i("v-uni-image",{attrs:{src:"/static/HM-search/delete.png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.oldDelete.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"keyword"},t._l(t.oldKeywordList,(function(e,o){return i("v-uni-view",{key:o,on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.doSearch(e)}}},[t._v(t._s(e))])})),1)],1):t._e(),i("v-uni-view",{staticClass:"keyword-block"},[i("v-uni-view",{staticClass:"keyword-list-header"},[i("v-uni-view",[t._v("热门搜索")]),i("v-uni-view",[i("v-uni-image",{attrs:{src:"/static/HM-search/attention"+t.forbid+".png"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hotToggle.apply(void 0,arguments)}}})],1)],1),""==t.forbid?i("v-uni-view",{staticClass:"keyword"},t._l(t.hotKeywordList,(function(e,o){return i("v-uni-view",{key:o,on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.doSearch(e)}}},[t._v(t._s(e))])})),1):i("v-uni-view",{staticClass:"hide-hot-tis"},[i("v-uni-view",[t._v("当前搜热门搜索已隐藏")])],1)],1)],1)],1),t.listData.length>0?i("v-uni-view",{staticClass:"uni-list"},t._l(t.listData,(function(e,o){return i("v-uni-view",{key:o,staticClass:"uni-list-cell",attrs:{"hover-class":"uni-list-cell-hover"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goDetail(e,t.width)}}},[i("v-uni-view",{staticClass:"uni-media-list"},[i("v-uni-image",{staticClass:"uni-media-list-logo",attrs:{src:e.avatar}}),i("v-uni-view",{staticClass:"uni-media-list-body"},[i("v-uni-view",{staticClass:"uni-media-list-text-top"},[t._v(t._s(e.title)),i("v-uni-text",{staticClass:"cu-tag bg-red text-white text-bold sm"},[t._v(t._s(e.type))])],1),i("v-uni-view",{staticClass:"uni-media-list-text-bottom"},[i("v-uni-text",[t._v(t._s(e.date))])],1)],1)],1)],1)})),1):t._e(),i("uni-popup",{ref:"popup",attrs:{type:"center","mask-click":!1,animation:!0}},[i("v-uni-view",{staticClass:"uni-tip"},[i("v-uni-view",{staticClass:"uni-tip-title text-xl"},[t._v("404 not found")]),i("v-uni-view",{staticClass:"uni-tip-content"},[t._v("找不到结果")]),i("v-uni-view",{staticClass:"uni-tip-group-button"},[i("v-uni-text",{staticClass:"uni-tip-button text-xl",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clearInput.apply(void 0,arguments)}}},[t._v("取消")]),i("v-uni-text",{staticClass:"uni-tip-button text-xl",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clearInput.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)],1)},a=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return o}))},f75a:function(t,e,i){"use strict";i.r(e);var o=i("d259"),n=i("8069");for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("d1fc");var r,d=i("f0c5"),s=Object(d["a"])(n["default"],o["b"],o["c"],!1,null,"1d335724",null,!1,o["a"],r);e["default"]=s.exports},fd9c:function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,'.banner[data-v-1d335724]{height:%?360?%;overflow:hidden;position:relative;background-color:#ccc}.banner-img[data-v-1d335724]{width:100%}.banner-title[data-v-1d335724]{max-height:%?84?%;overflow:hidden;position:absolute;left:%?30?%;bottom:%?30?%;width:90%;font-size:%?32?%;font-weight:400;line-height:%?42?%;color:#fff;z-index:11}.uni-list[data-v-1d335724]{background-color:#fff;position:relative;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.uni-list[data-v-1d335724]:after{position:absolute;z-index:10;right:0;bottom:0;left:0;height:1px;content:"";-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}.uni-list[data-v-1d335724]:before{position:absolute;z-index:10;right:0;top:0;left:0;height:1px;content:"";-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}.uni-list-cell[data-v-1d335724]{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.uni-list-cell-hover[data-v-1d335724]{background-color:#eee}.uni-list-cell[data-v-1d335724]:after{position:absolute;z-index:3;right:0;bottom:0;left:%?30?%;height:1px;content:"";-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}.uni-list .uni-list-cell[data-v-1d335724]:last-child:after{height:%?0?%}\n\n    /* 图文列表 */.uni-media-list[data-v-1d335724]{padding:%?22?% %?30?%;box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;width:100%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.uni-navigate-right.uni-media-list[data-v-1d335724]{padding-right:%?74?%}.uni-pull-right[data-v-1d335724]{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-webkit-flex-direction:row-reverse;flex-direction:row-reverse}.uni-pull-right>.uni-media-list-logo[data-v-1d335724]{margin-right:%?0?%;margin-left:%?20?%}.uni-media-list-logo uni-image[data-v-1d335724]{height:100%;width:100%}.uni-media-list-text-bottom[data-v-1d335724]{width:100%;line-height:%?30?%;font-size:%?26?%;color:#8f8f94}.uni-media-list-logo[data-v-1d335724]{width:%?180?%;height:%?140?%;margin-right:%?20?%}.uni-media-list-body[data-v-1d335724]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;overflow:hidden;height:auto}.uni-media-list-text-top[data-v-1d335724]{width:100%;line-height:%?36?%;font-size:%?30?%;height:%?74?%;font-size:%?28?%;overflow:hidden}.uni-media-list-text-bottom[data-v-1d335724]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.popup-content[data-v-1d335724]{\n\t\tdisplay:block;\n\t\tbackground-color:#fff;padding:15px;font-size:14px}\n\n    /* 提示窗口 */.uni-tip[data-v-1d335724]{\n\t\tdisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\n\t\tpadding:15px;width:300px;background-color:#fff;border-radius:10px}.uni-tip-title[data-v-1d335724]{margin-bottom:10px;text-align:center;font-weight:700;color:#333}.uni-tip-content[data-v-1d335724]{\n\t\t/* padding: 15px;\n */color:#666}.uni-tip-group-button[data-v-1d335724]{\n\t\tdisplay:-webkit-box;display:-webkit-flex;display:flex;\n\t\t-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;margin-top:20px}.uni-tip-button[data-v-1d335724]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;color:#3b4144}uni-view[data-v-1d335724]{display:block}.search-box[data-v-1d335724]{width:95%;background-color:#f2f2f2;padding:%?15?% 2.5%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.search-box .mSearch-input-box[data-v-1d335724]{width:100%}.search-box .input-box[data-v-1d335724]{width:85%;-webkit-flex-shrink:1;flex-shrink:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.search-box .search-btn[data-v-1d335724]{width:15%;margin:0 0 0 2%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-shrink:0;flex-shrink:0;font-size:%?28?%;color:#fff;background:-webkit-linear-gradient(left,#ff9801,#ff570a);background:linear-gradient(90deg,#ff9801,#ff570a);border-radius:%?60?%}.search-box .input-box>uni-input[data-v-1d335724]{width:100%;height:%?60?%;font-size:%?32?%;border:0;border-radius:%?60?%;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0 3%;margin:0;background-color:#fff}.placeholder-class[data-v-1d335724]{color:#9e9e9e}.search-keyword[data-v-1d335724]{width:100%;background-color:#f2f2f2}.keyword-list-box[data-v-1d335724]{height:calc(100vh - %?110?%);padding-top:%?10?%;border-radius:%?20?% %?20?% 0 0;background-color:#fff}.keyword-entry-tap[data-v-1d335724]{background-color:#eee}.keyword-entry[data-v-1d335724]{width:94%;height:%?80?%;margin:0 3%;font-size:%?30?%;color:#333;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-bottom:solid %?1?% #e7e7e7}.keyword-entry uni-image[data-v-1d335724]{width:%?60?%;height:%?60?%}.keyword-entry .keyword-img[data-v-1d335724],.keyword-entry .keyword-text[data-v-1d335724]{height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.keyword-entry .keyword-text[data-v-1d335724]{width:90%}.keyword-entry .keyword-img[data-v-1d335724]{width:10%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.keyword-box[data-v-1d335724]{height:calc(100vh - %?110?%);border-radius:%?20?% %?20?% 0 0;background-color:#fff}.keyword-box .keyword-block[data-v-1d335724]{padding:%?10?% 0}.keyword-box .keyword-block .keyword-list-header[data-v-1d335724]{width:94%;padding:%?10?% 3%;font-size:%?27?%;color:#333;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.keyword-box .keyword-block .keyword-list-header uni-image[data-v-1d335724]{width:%?40?%;height:%?40?%}.keyword-box .keyword-block .keyword[data-v-1d335724]{width:94%;padding:3px 3%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-flow:wrap;flex-flow:wrap;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.keyword-box .keyword-block .hide-hot-tis[data-v-1d335724]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?28?%;color:#6b6b6b}.keyword-box .keyword-block .keyword>uni-view[data-v-1d335724]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:%?60?%;padding:0 %?20?%;margin:%?10?% %?20?% %?10?% 0;height:%?60?%;font-size:%?28?%;background-color:#f2f2f2;color:#6b6b6b}',""]),t.exports=e}}]);